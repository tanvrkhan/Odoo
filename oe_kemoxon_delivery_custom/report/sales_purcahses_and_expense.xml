<odoo>
    <data>
        <record id="purchase_sales_and_expense" model="account.report">
            <field name="name">Sales Purchase And Expense</field>
            <field name="filter_analytic_groupby" eval="True"/>
            <field name="filter_unfold_all" eval="True"/>
            <field name="filter_journals" eval="True"/>
            <field name="filter_multi_company">selector</field>
            <field name="default_opening_date_filter">this_year</field>
            <field name="column_ids">
                <record id="profit_and_loss_column" model="account.report.column">
                    <field name="name">Balance</field>
                    <field name="expression_label">balance</field>
                </record>
            </field>
            <field name="line_ids">
                <record id="account_financial_report_net_profit0" model="account.report.line">
                    <field name="name">Net Profit</field>
                    <field name="code">NEPS</field>
                    <field name="expression_ids">
                        <record id="account_financial_report_net_profit0_balance" model="account.report.expression">
                            <field name="label">balance</field>
                            <field name="engine">aggregation</field>
                            <field name="formula">OPINCS.balance + OINS.balance - COSS.balance - EXPS.balance -
                                DEPS.balance
                            </field>
                            <field name="date_scope">normal</field>
                        </record>
                    </field>
                </record>
                <record id="account_financial_report_totalincome0" model="account.report.line">
                    <field name="name">Sales</field>
                    <field name="code">INCS</field>
                    <field name="expression_ids">
                        <record id="account_financial_report_totalincome0_balance" model="account.report.expression">
                            <field name="label">balance</field>
                            <field name="engine">aggregation</field>
                            <field name="formula">OPINCS.balance + OINS.balance</field>
                            <field name="date_scope">normal</field>
                        </record>
                    </field>
                    <field name="children_ids">
                        <record id="account_financial_report_gross_profit0" model="account.report.line">
                            <field name="name">Gross Profit</field>
                            <field name="code">GRPS</field>
                            <field name="expression_ids">
                                <record id="account_financial_report_gross_profit0_balance"
                                        model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">OPINCS.balance - COSS.balance</field>
                                    <field name="date_scope">normal</field>
                                </record>
                            </field>
                            <field name="children_ids">
                                <record id="account_financial_report_income0" model="account.report.line">
                                    <field name="name">Operating Income</field>
                                    <field name="code">OPINCS</field>
                                    <field name="groupby">account_id</field>
                                    <field name="foldable" eval="True"/>
                                    <field name="expression_ids">
                                        <record id="account_financial_report_income0_balance"
                                                model="account.report.expression">
                                            <field name="label">balance</field>
                                            <field name="engine">domain</field>
                                            <field name="formula" eval="[('account_id.account_type', '=', 'income')]"/>
                                            <field name="date_scope">normal</field>
                                            <field name="subformula">-sum</field>
                                        </record>
                                    </field>
                                </record>
                                <record id="account_financial_report_cost_sales0" model="account.report.line">
                                    <field name="name">Cost of Revenue</field>
                                    <field name="code">COSS</field>
                                    <field name="groupby">account_id</field>
                                    <field name="foldable" eval="True"/>
                                    <field name="expression_ids">
                                        <record id="account_financial_report_cost_sales0_balance"
                                                model="account.report.expression">
                                            <field name="label">balance</field>
                                            <field name="engine">domain</field>
                                            <field name="formula"
                                                   eval="[('account_id.account_type', '=', 'expense_direct_cost')]"/>
                                            <field name="date_scope">normal</field>
                                            <field name="subformula">sum</field>
                                            <field name="green_on_positive" eval="False"/>
                                        </record>
                                    </field>
                                </record>
                            </field>
                        </record>
                        <record id="account_financial_report_other_income0" model="account.report.line">
                            <field name="name">Other Income</field>
                            <field name="code">OINS</field>
                            <field name="groupby">account_id</field>
                            <field name="foldable" eval="True"/>
                            <field name="expression_ids">
                                <record id="account_financial_report_other_income0_balance"
                                        model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="engine">domain</field>
                                    <field name="formula" eval="[('account_id.account_type', '=', 'income_other')]"/>
                                    <field name="date_scope">normal</field>
                                    <field name="subformula">-sum</field>
                                </record>
                            </field>
                        </record>
                    </field>
                </record>
                <record id="account_financial_report_less_expenses0" model="account.report.line">
                    <field name="name">Purchase</field>
                    <field name="code">LEXS</field>
                    <field name="expression_ids">
                        <record id="account_financial_report_less_expenses0_balance" model="account.report.expression">
                            <field name="label">balance</field>
                            <field name="engine">aggregation</field>
                            <field name="formula">EXPS.balance + DEPS.balance</field>
                            <field name="date_scope">normal</field>
                            <field name="green_on_positive" eval="False"/>
                        </record>
                    </field>
                    <field name="children_ids">
                        <record id="account_financial_report_expense0" model="account.report.line">
                            <field name="name">Expenses</field>
                            <field name="code">EXPS</field>
                            <field name="groupby">account_id</field>
                            <field name="foldable" eval="True"/>
                            <field name="expression_ids">
                                <record id="account_financial_report_expense0_balance"
                                        model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="engine">domain</field>
                                    <field name="formula" eval="[('account_id.account_type', '=', 'expense')]"/>
                                    <field name="date_scope">normal</field>
                                    <field name="subformula">sum</field>
                                    <field name="green_on_positive" eval="False"/>
                                </record>
                            </field>
                        </record>
                        <record id="account_financial_report_depreciation0" model="account.report.line">
                            <field name="name">Depreciation</field>
                            <field name="code">DEPS</field>
                            <field name="groupby">account_id</field>
                            <field name="expression_ids">
                                <record id="account_financial_report_depreciation0_balance"
                                        model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="engine">domain</field>
                                    <field name="formula"
                                           eval="[('account_id.account_type', '=', 'expense_depreciation')]"/>
                                    <field name="date_scope">normal</field>
                                    <field name="subformula">sum</field>
                                    <field name="green_on_positive" eval="False"/>
                                </record>
                            </field>
                        </record>
                    </field>
                </record>
            </field>
        </record>

        <record id="action_account_report_sales_purchase_expense" model="ir.actions.client">
            <field name="name">Sales Purchase And Expense</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'report_id': ref('oe_kemoxon_delivery_custom.purchase_sales_and_expense')}"/>
        </record>
        <menuitem id="menu_action_sale_purchase_and_expense" name="Sales Purchase And Expense"
                  action="oe_kemoxon_delivery_custom.action_account_report_sales_purchase_expense"
                  parent="account.account_reports_legal_statements_menu" groups="account.group_account_readonly"/>

    </data>
</odoo>